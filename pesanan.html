<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbwhqehmZ6QuSWEAlEge8UZIYGPKs8l-6JDuSNZWFCzLgT6uUvh11pG8czdChYry8Qc/exec";

  document.getElementById("form-pesanan").addEventListener("submit", e => {
    e.preventDefault();

    const formData = {
      nama: document.getElementById("nama").value,
      hp: document.getElementById("hp").value,
      alamat: document.getElementById("alamat").value,
      menu: document.getElementById("menu").value,
      jumlah: document.getElementById("jumlah").value,
      catatan: document.getElementById("catatan").value
    };

    fetch(scriptURL, {
      method: "POST",
      body: JSON.stringify(formData),
      headers: {
        "Content-Type": "application/json"
      }
    })
    .then(response => response.text())
    .then(result => {
      if (result.includes("SUKSES")) {
        alert("Pesanan berhasil dikirim.");
        document.getElementById("form-pesanan").reset();
      } else {
        alert("Gagal mengirim pesanan: " + result);
      }
    })
    .catch(error => {
      alert("Gagal mengirim pesanan: " + error.message);
    });
  });
</script>
